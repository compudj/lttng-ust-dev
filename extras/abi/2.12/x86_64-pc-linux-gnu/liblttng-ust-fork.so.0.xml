<abi-corpus architecture='elf-amd-x86_64' soname='liblttng-ust-fork.so.0'>
  <elf-needed>
    <dependency name='liblttng-ust.so.0'/>
    <dependency name='liblttng-ust-tracepoint.so.0'/>
    <dependency name='librt.so.1'/>
    <dependency name='libdl.so.2'/>
    <dependency name='libnuma.so.1'/>
    <dependency name='liburcu-bp.so.6'/>
    <dependency name='liburcu-cds.so.6'/>
    <dependency name='libpthread.so.0'/>
    <dependency name='libc.so.6'/>
  </elf-needed>
  <elf-function-symbols>
    <!-- clone -->
    <elf-symbol name='clone' type='func-type' binding='global-binding' visibility='default-visibility' is-defined='yes'/>
    <!-- daemon -->
    <elf-symbol name='daemon' type='func-type' binding='global-binding' visibility='default-visibility' is-defined='yes'/>
    <!-- fork -->
    <elf-symbol name='fork' type='func-type' binding='global-binding' visibility='default-visibility' is-defined='yes'/>
    <!-- setegid -->
    <elf-symbol name='setegid' type='func-type' binding='global-binding' visibility='default-visibility' is-defined='yes'/>
    <!-- seteuid -->
    <elf-symbol name='seteuid' type='func-type' binding='global-binding' visibility='default-visibility' is-defined='yes'/>
    <!-- setgid -->
    <elf-symbol name='setgid' type='func-type' binding='global-binding' visibility='default-visibility' is-defined='yes'/>
    <!-- setns -->
    <elf-symbol name='setns' type='func-type' binding='global-binding' visibility='default-visibility' is-defined='yes'/>
    <!-- setregid -->
    <elf-symbol name='setregid' type='func-type' binding='global-binding' visibility='default-visibility' is-defined='yes'/>
    <!-- setresgid -->
    <elf-symbol name='setresgid' type='func-type' binding='global-binding' visibility='default-visibility' is-defined='yes'/>
    <!-- setresuid -->
    <elf-symbol name='setresuid' type='func-type' binding='global-binding' visibility='default-visibility' is-defined='yes'/>
    <!-- setreuid -->
    <elf-symbol name='setreuid' type='func-type' binding='global-binding' visibility='default-visibility' is-defined='yes'/>
    <!-- setuid -->
    <elf-symbol name='setuid' type='func-type' binding='global-binding' visibility='default-visibility' is-defined='yes'/>
    <!-- unshare -->
    <elf-symbol name='unshare' type='func-type' binding='global-binding' visibility='default-visibility' is-defined='yes'/>
  </elf-function-symbols>
  <abi-instr version='1.0' address-size='64' path='ustfork.c' comp-dir-path='liblttng-ust-fork' language='LANG_C99'>
    <!-- int -->
    <type-decl name='int' size-in-bits='32' id='type-id-1'/>
    <!-- unsigned int -->
    <type-decl name='unsigned int' size-in-bits='32' id='type-id-2'/>
    <!-- void -->
    <type-decl name='void' id='type-id-3'/>
    <!-- typedef __gid_t gid_t -->
    <typedef-decl name='gid_t' type-id='type-id-4' filepath='/usr/include/unistd.h' line='232' column='1' id='type-id-5'/>
    <!-- typedef unsigned int __gid_t -->
    <typedef-decl name='__gid_t' type-id='type-id-2' filepath='/usr/include/bits/types.h' line='147' column='1' id='type-id-4'/>
    <!-- typedef __uid_t uid_t -->
    <typedef-decl name='uid_t' type-id='type-id-6' filepath='/usr/include/unistd.h' line='237' column='1' id='type-id-7'/>
    <!-- typedef unsigned int __uid_t -->
    <typedef-decl name='__uid_t' type-id='type-id-2' filepath='/usr/include/bits/types.h' line='146' column='1' id='type-id-6'/>
    <!-- typedef __pid_t pid_t -->
    <typedef-decl name='pid_t' type-id='type-id-8' filepath='/usr/include/unistd.h' line='260' column='1' id='type-id-9'/>
    <!-- typedef int __pid_t -->
    <typedef-decl name='__pid_t' type-id='type-id-1' filepath='/usr/include/bits/types.h' line='154' column='1' id='type-id-8'/>
    <!-- int (void*)* -->
    <pointer-type-def type-id='type-id-10' size-in-bits='64' id='type-id-11'/>
    <!-- void* -->
    <pointer-type-def type-id='type-id-3' size-in-bits='64' id='type-id-12'/>
    <!-- int setresgid(gid_t, gid_t, gid_t) -->
    <function-decl name='setresgid' mangled-name='setresgid' filepath='/usr/include/unistd.h' line='760' column='1' visibility='default' binding='global' size-in-bits='64' elf-symbol-id='setresgid'>
      <!-- parameter of type 'typedef gid_t' -->
      <parameter type-id='type-id-5' name='rgid' filepath='liblttng-ust-fork/ustfork.c' line='388' column='1'/>
      <!-- parameter of type 'typedef gid_t' -->
      <parameter type-id='type-id-5' name='egid' filepath='liblttng-ust-fork/ustfork.c' line='388' column='1'/>
      <!-- parameter of type 'typedef gid_t' -->
      <parameter type-id='type-id-5' name='sgid' filepath='liblttng-ust-fork/ustfork.c' line='388' column='1'/>
      <!-- int -->
      <return type-id='type-id-1'/>
    </function-decl>
    <!-- int setresuid(uid_t, uid_t, uid_t) -->
    <function-decl name='setresuid' mangled-name='setresuid' filepath='/usr/include/unistd.h' line='755' column='1' visibility='default' binding='global' size-in-bits='64' elf-symbol-id='setresuid'>
      <!-- parameter of type 'typedef uid_t' -->
      <parameter type-id='type-id-7' name='ruid' filepath='liblttng-ust-fork/ustfork.c' line='363' column='1'/>
      <!-- parameter of type 'typedef uid_t' -->
      <parameter type-id='type-id-7' name='euid' filepath='liblttng-ust-fork/ustfork.c' line='363' column='1'/>
      <!-- parameter of type 'typedef uid_t' -->
      <parameter type-id='type-id-7' name='suid' filepath='liblttng-ust-fork/ustfork.c' line='363' column='1'/>
      <!-- int -->
      <return type-id='type-id-1'/>
    </function-decl>
    <!-- int unshare(int) -->
    <function-decl name='unshare' mangled-name='unshare' filepath='/usr/include/bits/sched.h' line='86' column='1' visibility='default' binding='global' size-in-bits='64' elf-symbol-id='unshare'>
      <!-- parameter of type 'int' -->
      <parameter type-id='type-id-1' name='flags' filepath='liblttng-ust-fork/ustfork.c' line='338' column='1'/>
      <!-- int -->
      <return type-id='type-id-1'/>
    </function-decl>
    <!-- int setns(int, int) -->
    <function-decl name='setns' mangled-name='setns' filepath='/usr/include/bits/sched.h' line='95' column='1' visibility='default' binding='global' size-in-bits='64' elf-symbol-id='setns'>
      <!-- parameter of type 'int' -->
      <parameter type-id='type-id-1' name='fd' filepath='liblttng-ust-fork/ustfork.c' line='313' column='1'/>
      <!-- parameter of type 'int' -->
      <parameter type-id='type-id-1' name='nstype' filepath='liblttng-ust-fork/ustfork.c' line='313' column='1'/>
      <!-- int -->
      <return type-id='type-id-1'/>
    </function-decl>
    <!-- int clone(int (void*)*, void*, int, void*, ...) -->
    <function-decl name='clone' mangled-name='clone' filepath='/usr/include/bits/sched.h' line='82' column='1' visibility='default' binding='global' size-in-bits='64' elf-symbol-id='clone'>
      <!-- parameter of type 'int (void*)*' -->
      <parameter type-id='type-id-11' name='fn' filepath='liblttng-ust-fork/ustfork.c' line='261' column='1'/>
      <!-- parameter of type 'void*' -->
      <parameter type-id='type-id-12' name='child_stack' filepath='liblttng-ust-fork/ustfork.c' line='261' column='1'/>
      <!-- parameter of type 'int' -->
      <parameter type-id='type-id-1' name='flags' filepath='liblttng-ust-fork/ustfork.c' line='261' column='1'/>
      <!-- parameter of type 'void*' -->
      <parameter type-id='type-id-12' name='arg' filepath='liblttng-ust-fork/ustfork.c' line='261' column='1'/>
      <parameter is-variadic='yes'/>
      <!-- int -->
      <return type-id='type-id-1'/>
    </function-decl>
    <!-- int setregid(gid_t, gid_t) -->
    <function-decl name='setregid' mangled-name='setregid' filepath='/usr/include/unistd.h' line='734' column='1' visibility='default' binding='global' size-in-bits='64' elf-symbol-id='setregid'>
      <!-- parameter of type 'typedef gid_t' -->
      <parameter type-id='type-id-5' name='rgid' filepath='liblttng-ust-fork/ustfork.c' line='217' column='1'/>
      <!-- parameter of type 'typedef gid_t' -->
      <parameter type-id='type-id-5' name='egid' filepath='liblttng-ust-fork/ustfork.c' line='217' column='1'/>
      <!-- int -->
      <return type-id='type-id-1'/>
    </function-decl>
    <!-- int setreuid(uid_t, uid_t) -->
    <function-decl name='setreuid' mangled-name='setreuid' filepath='/usr/include/unistd.h' line='717' column='1' visibility='default' binding='global' size-in-bits='64' elf-symbol-id='setreuid'>
      <!-- parameter of type 'typedef uid_t' -->
      <parameter type-id='type-id-7' name='ruid' filepath='liblttng-ust-fork/ustfork.c' line='192' column='1'/>
      <!-- parameter of type 'typedef uid_t' -->
      <parameter type-id='type-id-7' name='euid' filepath='liblttng-ust-fork/ustfork.c' line='192' column='1'/>
      <!-- int -->
      <return type-id='type-id-1'/>
    </function-decl>
    <!-- int setegid(gid_t) -->
    <function-decl name='setegid' mangled-name='setegid' filepath='/usr/include/unistd.h' line='739' column='1' visibility='default' binding='global' size-in-bits='64' elf-symbol-id='setegid'>
      <!-- parameter of type 'typedef gid_t' -->
      <parameter type-id='type-id-5' name='egid' filepath='liblttng-ust-fork/ustfork.c' line='167' column='1'/>
      <!-- int -->
      <return type-id='type-id-1'/>
    </function-decl>
    <!-- int seteuid(uid_t) -->
    <function-decl name='seteuid' mangled-name='seteuid' filepath='/usr/include/unistd.h' line='722' column='1' visibility='default' binding='global' size-in-bits='64' elf-symbol-id='seteuid'>
      <!-- parameter of type 'typedef uid_t' -->
      <parameter type-id='type-id-7' name='euid' filepath='liblttng-ust-fork/ustfork.c' line='142' column='1'/>
      <!-- int -->
      <return type-id='type-id-1'/>
    </function-decl>
    <!-- int setgid(gid_t) -->
    <function-decl name='setgid' mangled-name='setgid' filepath='/usr/include/unistd.h' line='729' column='1' visibility='default' binding='global' size-in-bits='64' elf-symbol-id='setgid'>
      <!-- parameter of type 'typedef gid_t' -->
      <parameter type-id='type-id-5' name='gid' filepath='liblttng-ust-fork/ustfork.c' line='117' column='1'/>
      <!-- int -->
      <return type-id='type-id-1'/>
    </function-decl>
    <!-- int setuid(uid_t) -->
    <function-decl name='setuid' mangled-name='setuid' filepath='/usr/include/unistd.h' line='712' column='1' visibility='default' binding='global' size-in-bits='64' elf-symbol-id='setuid'>
      <!-- parameter of type 'typedef uid_t' -->
      <parameter type-id='type-id-7' name='uid' filepath='liblttng-ust-fork/ustfork.c' line='92' column='1'/>
      <!-- int -->
      <return type-id='type-id-1'/>
    </function-decl>
    <!-- int daemon(int, int) -->
    <function-decl name='daemon' mangled-name='daemon' filepath='/usr/include/unistd.h' line='949' column='1' visibility='default' binding='global' size-in-bits='64' elf-symbol-id='daemon'>
      <!-- parameter of type 'int' -->
      <parameter type-id='type-id-1' name='nochdir' filepath='liblttng-ust-fork/ustfork.c' line='61' column='1'/>
      <!-- parameter of type 'int' -->
      <parameter type-id='type-id-1' name='noclose' filepath='liblttng-ust-fork/ustfork.c' line='61' column='1'/>
      <!-- int -->
      <return type-id='type-id-1'/>
    </function-decl>
    <!-- pid_t fork() -->
    <function-decl name='fork' mangled-name='fork' filepath='/usr/include/unistd.h' line='768' column='1' visibility='default' binding='global' size-in-bits='64' elf-symbol-id='fork'>
      <!-- typedef pid_t -->
      <return type-id='type-id-9'/>
    </function-decl>
    <!-- int (void*) -->
    <function-type size-in-bits='64' id='type-id-10'>
      <!-- parameter of type 'void*' -->
      <parameter type-id='type-id-12'/>
      <!-- int -->
      <return type-id='type-id-1'/>
    </function-type>
  </abi-instr>
</abi-corpus>
